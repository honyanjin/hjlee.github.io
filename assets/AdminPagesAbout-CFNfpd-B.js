import{j as e,Y as A,C as I,a0 as z,Q as L,I as P,g as X}from"./ui-PyLpIfzO.js";import{r as i}from"./router-CLvrYEWH.js";import{a as q,b as U,o as $,f as w,I as Z,s as h,A as O,c as N,n as ee,l as te}from"./index-Bon6P73N.js";import{A as re}from"./AdminPageHeader-MoPJ4cBD.js";import{R as ae}from"./RichTextEditor-B46_kjbJ.js";import"./vendor-RGnvvjkK.js";const se=$({show_about_me:w(),show_experience:w(),show_education:w(),show_skills:w()}),le=({settings:p,onSave:f,isSaving:g})=>{const[d,j]=i.useState(!0),{register:a,handleSubmit:c,formState:{errors:u}}=q({resolver:U(se),defaultValues:{show_about_me:p.show_about_me,show_experience:p.show_experience,show_education:p.show_education,show_skills:p.show_skills||!0}}),x=async k=>{await f(k)};return e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>j(!d),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ê¸°ë³¸ ì„¤ì •"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"íŽ˜ì´ì§€ ì„¹ì…˜ í‘œì‹œ ì—¬ë¶€ ì„¤ì •"})]}),e.jsx("button",{type:"button",className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors","aria-label":d?"ì ‘ê¸°":"íŽ¼ì¹˜ê¸°",children:d?e.jsx(A,{size:20,className:"text-gray-500 dark:text-gray-400"}):e.jsx(I,{size:20,className:"text-gray-500 dark:text-gray-400"})})]})}),d&&e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:c(x),className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...a("show_about_me"),type:"checkbox",id:"show_about_me",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"show_about_me",className:"ml-2 block text-sm text-gray-900 dark:text-gray-100",children:"About Me ì„¹ì…˜ í‘œì‹œ"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...a("show_experience"),type:"checkbox",id:"show_experience",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"show_experience",className:"ml-2 block text-sm text-gray-900 dark:text-gray-100",children:"ê²½ë ¥ ì„¹ì…˜ í‘œì‹œ"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...a("show_education"),type:"checkbox",id:"show_education",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"show_education",className:"ml-2 block text-sm text-gray-900 dark:text-gray-100",children:"í•™ë ¥ ì„¹ì…˜ í‘œì‹œ"})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{...a("show_skills"),type:"checkbox",id:"show_skills",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"show_skills",className:"ml-2 block text-sm text-gray-900 dark:text-gray-100",children:"ìŠ¤í‚¬ ì„¹ì…˜ í‘œì‹œ"})]})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",disabled:g,className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(z,{size:16}),g?"ì €ìž¥ ì¤‘...":"ì„¤ì • ì €ìž¥"]})})]})})]})},de=({skills:p,onSaveSkills:f,isSaving:g})=>{const[d,j]=i.useState(!0),[a,c]=i.useState(p),u=()=>{const t={id:`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,category:"",skill_name:"",proficiency:50,display_order:a.length,category_order:0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};c([...a,t])},x=(t,s,r)=>{const n=[...a];n[t]={...n[t],[s]:r},c(n)},k=t=>{c(a.filter((s,r)=>r!==t))},y=(t,s)=>{if(s==="up"&&t===0||s==="down"&&t===a.length-1)return;const r=[...a],n=s==="up"?t-1:t+1;[r[t],r[n]]=[r[n],r[t]],r.forEach((v,S)=>{v.display_order=S}),c(r)},_=async()=>{await f(a)};return e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>j(!d),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ìŠ¤í‚¬ ê´€ë¦¬"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"ì¹´í…Œê³ ë¦¬/ìŠ¤í‚¬ëª…/ìˆ™ë ¨ë„ë¡œ ë‹¤ê±´ ê´€ë¦¬"})]}),e.jsx("button",{type:"button",className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors","aria-label":d?"ì ‘ê¸°":"íŽ¼ì¹˜ê¸°",children:d?e.jsx(A,{size:20,className:"text-gray-500 dark:text-gray-400"}):e.jsx(I,{size:20,className:"text-gray-500 dark:text-gray-400"})})]})}),d&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("button",{type:"button",onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(L,{size:16}),"ìŠ¤í‚¬ ì¶”ê°€"]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsx("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["ðŸ’¡ ",e.jsx("strong",{children:"ìž…ë ¥ ì•ˆë‚´:"})," ì¹´í…Œê³ ë¦¬/ìŠ¤í‚¬ëª…ì€ ìžìœ  í…ìŠ¤íŠ¸, ìˆ™ë ¨ë„ëŠ” 0-100% ìŠ¬ë¼ì´ë”ë¡œ ì„¤ì •"]})}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-32",children:"ìˆœì„œ"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-48",children:"ì¹´í…Œê³ ë¦¬"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-48",children:"ìŠ¤í‚¬ëª…"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-32",children:"ìˆ™ë ¨ë„"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-40",children:"ìž‘ì—…"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map((t,s)=>e.jsx(i.Fragment,{children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:"inline-flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>y(s,"up"),className:"px-2 py-1 text-sm bg-gray-200 dark:bg-gray-600 rounded",children:"â†‘"}),e.jsx("button",{type:"button",onClick:()=>y(s,"down"),className:"px-2 py-1 text-sm bg-gray-200 dark:bg-gray-600 rounded",children:"â†“"})]})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{value:t.category,onChange:r=>x(s,"category",r.target.value),className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"ì˜ˆ: Frontend"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{value:t.skill_name,onChange:r=>x(s,"skill_name",r.target.value),className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"ì˜ˆ: React"})}),e.jsxs("td",{className:"px-3 py-2",children:[e.jsx("input",{type:"range",min:"0",max:"100",value:t.proficiency,onChange:r=>x(s,"proficiency",parseInt(r.target.value)),className:"w-full"}),e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400 ml-2",children:[t.proficiency,"%"]})]}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("div",{className:"inline-flex gap-2",children:e.jsx("button",{type:"button",onClick:()=>k(s),className:"px-3 py-2 text-sm bg-red-500 text-white rounded-md hover:bg-red-600",children:e.jsx(P,{size:14})})})})]})},t.id))})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-600",children:e.jsxs("button",{type:"button",onClick:_,disabled:g||a.some(t=>!t.category.trim()||!t.skill_name.trim()),className:"inline-flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(z,{size:16}),g?"ì €ìž¥ ì¤‘...":"ìŠ¤í‚¬ ì „ì²´ ì €ìž¥"]})})]})]})},oe=({experiences:p,onSaveExperiences:f,isSaving:g})=>{const[d,j]=i.useState(!0),[a,c]=i.useState(p),u=()=>{const t={id:`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,title:"",period:"",company:"",description:"",display_order:a.length,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};c([...a,t])},x=(t,s,r)=>{const n=[...a];n[t]={...n[t],[s]:r},c(n)},k=t=>{c(a.filter((s,r)=>r!==t))},y=(t,s)=>{if(s==="up"&&t===0||s==="down"&&t===a.length-1)return;const r=[...a],n=s==="up"?t-1:t+1;[r[t],r[n]]=[r[n],r[t]],r.forEach((v,S)=>{v.display_order=S}),c(r)},_=async()=>{await f(a)};return e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>j(!d),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"ê²½ë ¥ ê´€ë¦¬"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"ì§ì±…/ê¸°ê°„/íšŒì‚¬/ì„¤ëª…ìœ¼ë¡œ ë‹¤ê±´ ê´€ë¦¬"})]}),e.jsx("button",{type:"button",className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors","aria-label":d?"ì ‘ê¸°":"íŽ¼ì¹˜ê¸°",children:d?e.jsx(A,{size:20,className:"text-gray-500 dark:text-gray-400"}):e.jsx(I,{size:20,className:"text-gray-500 dark:text-gray-400"})})]})}),d&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("button",{type:"button",onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(L,{size:16}),"ê²½ë ¥ ì¶”ê°€"]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsx("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["ðŸ’¡ ",e.jsx("strong",{children:"ìž…ë ¥ ì•ˆë‚´:"})," ì§ì±…/ê¸°ê°„/íšŒì‚¬/ì„¤ëª…ì€ ìžìœ  í…ìŠ¤íŠ¸ìž…ë‹ˆë‹¤."]})}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-32",children:"ìˆœì„œ"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-48",children:"ì§ì±…"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-48",children:"ê¸°ê°„"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-48",children:"íšŒì‚¬"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"ì„¤ëª…"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-40",children:"ìž‘ì—…"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map((t,s)=>e.jsx(i.Fragment,{children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:"inline-flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>y(s,"up"),className:"px-2 py-1 text-sm bg-gray-200 dark:bg-gray-600 rounded",children:"â†‘"}),e.jsx("button",{type:"button",onClick:()=>y(s,"down"),className:"px-2 py-1 text-sm bg-gray-200 dark:bg-gray-600 rounded",children:"â†“"})]})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{value:t.title,onChange:r=>x(s,"title",r.target.value),className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"ì˜ˆ: Frontend Developer"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{value:t.period,onChange:r=>x(s,"period",r.target.value),className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"ì˜ˆ: 2022.01 - 2023.12"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{value:t.company,onChange:r=>x(s,"company",r.target.value),className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"ì˜ˆ: ABC Company"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("textarea",{value:t.description||"",onChange:r=>x(s,"description",r.target.value),rows:2,className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"ì£¼ìš” ì—…ë¬´ ë‚´ìš© ë“±"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("div",{className:"inline-flex gap-2",children:e.jsx("button",{type:"button",onClick:()=>k(s),className:"px-3 py-2 text-sm bg-red-500 text-white rounded-md hover:bg-red-600",children:e.jsx(P,{size:14})})})})]})},t.id))})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-600",children:e.jsxs("button",{type:"button",onClick:_,disabled:g||a.some(t=>!t.title.trim()||!t.period.trim()||!t.company.trim()),className:"inline-flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(z,{size:16}),g?"ì €ìž¥ ì¤‘...":"ê²½ë ¥ ì „ì²´ ì €ìž¥"]})})]})]})},ne=({educations:p,onSaveEducations:f,isSaving:g})=>{const[d,j]=i.useState(!0),[a,c]=i.useState(p),u=()=>{const t={id:`local-${Date.now()}-${Math.random().toString(36).slice(2,8)}`,degree:"",period:"",school:"",description:"",display_order:a.length,created_at:new Date().toISOString(),updated_at:new Date().toISOString()};c([...a,t])},x=(t,s,r)=>{const n=[...a];n[t]={...n[t],[s]:r},c(n)},k=t=>{c(a.filter((s,r)=>r!==t))},y=(t,s)=>{if(s==="up"&&t===0||s==="down"&&t===a.length-1)return;const r=[...a],n=s==="up"?t-1:t+1;[r[t],r[n]]=[r[n],r[t]],r.forEach((v,S)=>{v.display_order=S}),c(r)},_=async()=>{await f(a)};return e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>j(!d),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"í•™ë ¥ ê´€ë¦¬"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"í•™ìœ„/ê¸°ê°„/í•™êµ/ì„¤ëª…ìœ¼ë¡œ ë‹¤ê±´ ê´€ë¦¬"})]}),e.jsx("button",{type:"button",className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors","aria-label":d?"ì ‘ê¸°":"íŽ¼ì¹˜ê¸°",children:d?e.jsx(A,{size:20,className:"text-gray-500 dark:text-gray-400"}):e.jsx(I,{size:20,className:"text-gray-500 dark:text-gray-400"})})]})}),d&&e.jsxs("div",{className:"p-6 space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("button",{type:"button",onClick:u,className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:[e.jsx(L,{size:16}),"í•™ë ¥ ì¶”ê°€"]})}),e.jsxs("div",{className:"overflow-x-auto",children:[e.jsx("div",{className:"mb-3 p-3 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:["ðŸ’¡ ",e.jsx("strong",{children:"ìž…ë ¥ ì•ˆë‚´:"})," í•™ìœ„/ê¸°ê°„/í•™êµ/ì„¤ëª…ì€ ìžìœ  í…ìŠ¤íŠ¸ìž…ë‹ˆë‹¤."]})}),e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-32",children:"ìˆœì„œ"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-48",children:"í•™ìœ„"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-48",children:"ê¸°ê°„"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-48",children:"í•™êµ"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"ì„¤ëª…"}),e.jsx("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider w-40",children:"ìž‘ì—…"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:a.map((t,s)=>e.jsx(i.Fragment,{children:e.jsxs("tr",{children:[e.jsx("td",{className:"px-3 py-2",children:e.jsxs("div",{className:"inline-flex gap-2",children:[e.jsx("button",{type:"button",onClick:()=>y(s,"up"),className:"px-2 py-1 text-sm bg-gray-200 dark:bg-gray-600 rounded",children:"â†‘"}),e.jsx("button",{type:"button",onClick:()=>y(s,"down"),className:"px-2 py-1 text-sm bg-gray-200 dark:bg-gray-600 rounded",children:"â†“"})]})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{value:t.degree,onChange:r=>x(s,"degree",r.target.value),className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"ì˜ˆ: ì»´í“¨í„°ê³µí•™ í•™ì‚¬"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{value:t.period,onChange:r=>x(s,"period",r.target.value),className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"ì˜ˆ: 2018.03 - 2022.02"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("input",{value:t.school,onChange:r=>x(s,"school",r.target.value),className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"ì˜ˆ: ABC University"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("textarea",{value:t.description||"",onChange:r=>x(s,"description",r.target.value),rows:2,className:"w-full px-3 py-2 border dark:border-gray-600 rounded-md bg-white dark:bg-gray-800",placeholder:"ì„¸ë¶€ í•™ìŠµ ë‚´ìš© ë“±"})}),e.jsx("td",{className:"px-3 py-2",children:e.jsx("div",{className:"inline-flex gap-2",children:e.jsx("button",{type:"button",onClick:()=>k(s),className:"px-3 py-2 text-sm bg-red-500 text-white rounded-md hover:bg-red-600",children:e.jsx(P,{size:14})})})})]})},t.id))})]})]}),e.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-200 dark:border-gray-600",children:e.jsxs("button",{type:"button",onClick:_,disabled:g||a.some(t=>!t.degree.trim()||!t.period.trim()||!t.school.trim()),className:"inline-flex items-center gap-2 px-6 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(z,{size:16}),g?"ì €ìž¥ ì¤‘...":"í•™ë ¥ ì „ì²´ ì €ìž¥"]})})]})]})},ie=$({display_profile_image:w(),name:N().min(1,"ì´ë¦„ì„ ìž…ë ¥í•˜ì„¸ìš”"),title:N().min(1,"ì§ì±…ì„ ìž…ë ¥í•˜ì„¸ìš”"),email:N().email("ì˜¬ë°”ë¥¸ ì´ë©”ì¼ì„ ìž…ë ¥í•˜ì„¸ìš”"),phone:N().optional(),location:N().min(1,"ìœ„ì¹˜ë¥¼ ìž…ë ¥í•˜ì„¸ìš”"),birth_year:ee().min(1900,"ì˜¬ë°”ë¥¸ ì¶œìƒë…„ë„ë¥¼ ìž…ë ¥í•˜ì„¸ìš”").max(new Date().getFullYear(),"ì˜¬ë°”ë¥¸ ì¶œìƒë…„ë„ë¥¼ ìž…ë ¥í•˜ì„¸ìš”"),show_email:w(),show_phone:w(),show_location:w(),show_birth_year:w(),show_resume_button:w(),resume_url:N().url("ì˜¬ë°”ë¥¸ URLì„ ìž…ë ¥í•˜ì„¸ìš”").optional().or(te("")),resume_label:N().optional(),intro_title:N().min(1,"ì†Œê°œ ì œëª©ì„ ìž…ë ¥í•˜ì„¸ìš”"),intro_content_html:N().min(1,"ì†Œê°œ ë‚´ìš©ì„ ìž…ë ¥í•˜ì„¸ìš”")}),ce=()=>{const[p,f]=i.useState(!0),[g,d]=i.useState(!1),[j,a]=i.useState(""),[c,u]=i.useState(""),[x,k]=i.useState(null),[y,_]=i.useState(null),[t,s]=i.useState([]),[r,n]=i.useState([]),[v,S]=i.useState([]),[M,B]=i.useState(!0),{register:C,handleSubmit:T,formState:{errors:b},reset:V,setValue:Y,watch:H}=q({resolver:U(ie)});i.useEffect(()=>{E()},[]);const E=async()=>{try{f(!0),a("");const[l,o,R,D,F]=await Promise.allSettled([h.from("about_page_settings").select("*").eq("id","default").maybeSingle(),h.from("about_page_about_me").select("*").eq("id","default").maybeSingle(),h.from("about_page_skills").select("*").order("category",{ascending:!0}).order("category_order",{ascending:!0}),h.from("about_page_experiences").select("*").order("display_order",{ascending:!0}),h.from("about_page_educations").select("*").order("display_order",{ascending:!0})]);if(l.status==="fulfilled"&&l.value.data&&k(l.value.data),o.status==="fulfilled"&&o.value.data){const m=o.value.data;_(m),V({display_profile_image:m.display_profile_image,name:m.name||"",title:m.title||"",email:m.email||"",phone:m.phone||"",location:m.location||"",birth_year:m.birth_year||1990,show_email:m.show_email,show_phone:m.show_phone||!1,show_location:m.show_location,show_birth_year:m.show_birth_year,show_resume_button:m.show_resume_button,resume_url:m.resume_url||"",resume_label:m.resume_label||"",intro_title:m.intro_title||"",intro_content_html:m.intro_content_html||""})}R.status==="fulfilled"&&R.value.data&&s(R.value.data),D.status==="fulfilled"&&D.value.data&&n(D.value.data),F.status==="fulfilled"&&F.value.data&&S(F.value.data)}catch(l){a("ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."),console.error("Error loading data:",l)}finally{f(!1)}},Q=async l=>{try{d(!0),a(""),u("");const{error:o}=await h.from("about_page_about_me").update({display_profile_image:l.display_profile_image,name:l.name,title:l.title,email:l.email,phone:l.phone,location:l.location,birth_year:l.birth_year,show_email:l.show_email,show_phone:l.show_phone,show_location:l.show_location,show_birth_year:l.show_birth_year,show_resume_button:l.show_resume_button,resume_url:l.resume_url||null,resume_label:l.resume_label,intro_title:l.intro_title,intro_content_html:l.intro_content_html,updated_at:new Date().toISOString()}).eq("id",y?.id);if(o)throw o;u("About Me ì„¤ì •ì´ ì €ìž¥ë˜ì—ˆìŠµë‹ˆë‹¤."),await E()}catch(o){a("ì„¤ì • ì €ìž¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."),console.error("Error saving about me settings:",o)}finally{d(!1)}},G=async l=>{try{d(!0),a(""),u("");const{error:o}=await h.from("about_page_settings").update({show_about_me:l.show_about_me,show_experience:l.show_experience,show_education:l.show_education,show_skills:l.show_skills,updated_at:new Date().toISOString()}).eq("id",x?.id);if(o)throw o;u("íŽ˜ì´ì§€ ì„¤ì •ì´ ì €ìž¥ë˜ì—ˆìŠµë‹ˆë‹¤."),await E()}catch(o){a("ì„¤ì • ì €ìž¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."),console.error("Error saving page settings:",o)}finally{d(!1)}},J=async l=>{try{if(d(!0),a(""),u(""),await h.from("about_page_skills").delete().neq("id","00000000-0000-0000-0000-000000000000"),l.length>0){const{error:o}=await h.from("about_page_skills").insert(l);if(o)throw o}u("ìŠ¤í‚¬ì´ ì €ìž¥ë˜ì—ˆìŠµë‹ˆë‹¤."),await E()}catch(o){a("ìŠ¤í‚¬ ì €ìž¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."),console.error("Error saving skills:",o)}finally{d(!1)}},K=async l=>{try{if(d(!0),a(""),u(""),await h.from("about_page_experiences").delete().neq("id","00000000-0000-0000-0000-000000000000"),l.length>0){const{error:o}=await h.from("about_page_experiences").insert(l);if(o)throw o}u("ê²½ë ¥ì´ ì €ìž¥ë˜ì—ˆìŠµë‹ˆë‹¤."),await E()}catch(o){a("ê²½ë ¥ ì €ìž¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."),console.error("Error saving experiences:",o)}finally{d(!1)}},W=async l=>{try{if(d(!0),a(""),u(""),await h.from("about_page_educations").delete().neq("id","00000000-0000-0000-0000-000000000000"),l.length>0){const{error:o}=await h.from("about_page_educations").insert(l);if(o)throw o}u("í•™ë ¥ì´ ì €ìž¥ë˜ì—ˆìŠµë‹ˆë‹¤."),await E()}catch(o){a("í•™ë ¥ ì €ìž¥ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."),console.error("Error saving educations:",o)}finally{d(!1)}};return p?e.jsx(O,{children:e.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(X,{className:"animate-spin h-8 w-8 text-blue-600"}),e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘..."})]})})}):e.jsx(O,{children:e.jsxs("div",{className:"p-8 space-y-8",children:[e.jsx(re,{title:"About íŽ˜ì´ì§€ ê´€ë¦¬",description:"About íŽ˜ì´ì§€ì˜ ëª¨ë“  ì„¤ì •ê³¼ ì½˜í…ì¸ ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤."}),j&&e.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-md",children:j}),c&&e.jsx("div",{className:"bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 text-green-600 dark:text-green-400 px-4 py-3 rounded-md",children:c}),x&&e.jsx(le,{settings:x,onSave:G,isSaving:g}),y&&e.jsxs("section",{className:"bg-white dark:bg-gray-800 rounded-lg shadow",children:[e.jsx("div",{className:"p-6 border-b border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 transition-colors",onClick:()=>B(!M),children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"About Me ì„¤ì •"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"ê°œì¸ ì •ë³´ì™€ ì†Œê°œ ë‚´ìš©ì„ ê´€ë¦¬í•©ë‹ˆë‹¤"})]})}),e.jsx("button",{type:"button",className:"p-1 rounded-md hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors","aria-label":M?"ì ‘ê¸°":"íŽ¼ì¹˜ê¸°",children:M?e.jsx(A,{size:20,className:"text-gray-500 dark:text-gray-400"}):e.jsx(I,{size:20,className:"text-gray-500 dark:text-gray-400"})})]})}),M&&e.jsx("div",{className:"p-6",children:e.jsxs("form",{onSubmit:T(Q),className:"space-y-6",children:[e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ì´ë¦„ *"}),e.jsx("input",{...C("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"ì´ë¦„ì„ ìž…ë ¥í•˜ì„¸ìš”"}),b.name&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.name.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ì§ì±… *"}),e.jsx("input",{...C("title"),type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"ì§ì±…ì„ ìž…ë ¥í•˜ì„¸ìš”"}),b.title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.title.message})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ì´ë©”ì¼ *"}),e.jsx("input",{...C("email"),type:"email",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"ì´ë©”ì¼ì„ ìž…ë ¥í•˜ì„¸ìš”"}),b.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ìœ„ì¹˜ *"}),e.jsx("input",{...C("location"),type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"ìœ„ì¹˜ë¥¼ ìž…ë ¥í•˜ì„¸ìš”"}),b.location&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.location.message})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ì†Œê°œ ì œëª© *"}),e.jsx("input",{...C("intro_title"),type:"text",className:"w-full px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"ì†Œê°œ ì œëª©ì„ ìž…ë ¥í•˜ì„¸ìš”"}),b.intro_title&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.intro_title.message})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:"ì†Œê°œ ë‚´ìš© *"}),e.jsx(ae,{value:H("intro_content_html"),onChange:l=>Y("intro_content_html",l),placeholder:"ì†Œê°œ ë‚´ìš©ì„ ìž…ë ¥í•˜ì„¸ìš”...",height:300}),b.intro_content_html&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:b.intro_content_html.message})]}),e.jsx("div",{className:"flex justify-end",children:e.jsxs("button",{type:"submit",disabled:g,className:"inline-flex items-center gap-2 px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(z,{size:16}),g?"ì €ìž¥ ì¤‘...":"ì„¤ì • ì €ìž¥"]})})]})})]}),e.jsx(de,{skills:t,onSaveSkills:J,isSaving:g}),e.jsx(oe,{experiences:r,onSaveExperiences:K,isSaving:g}),e.jsx(ne,{educations:v,onSaveEducations:W,isSaving:g})]})})},be=()=>e.jsx(Z,{children:e.jsx(ce,{})});export{be as default};
