import{j as e}from"./ui-B0H31a0Z.js";import{r as o,u as p,L as d}from"./router-CLvrYEWH.js";import{u as b,N as u,s as y}from"./index-C0j8p642.js";const v=({children:c})=>{const{partnerPages:i,user:a,isAdmin:r}=b(),[l,g]=o.useState([]),x=p(),s=t=>x.pathname===t;return o.useEffect(()=>{(async()=>{if(!r)return;const{data:m}=await y.from("partner_pages").select("id, title").order("title",{ascending:!0});g((m??[]).map(n=>({id:n.id,title:n.title})))})()},[r]),e.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[e.jsx(u,{}),e.jsx("div",{className:"pt-20",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-12 gap-6",children:[e.jsx("aside",{className:"md:col-span-3",children:e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow p-4",children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3",children:"파트너 메뉴"}),e.jsxs("nav",{className:"space-y-1",children:[e.jsx(d,{to:a?`/partner/${a.id}`:"/partner",className:`block px-3 py-2 rounded-md text-sm transition-colors ${s(a?`/partner/${a.id}`:"/partner")?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:"대시보드"}),a&&e.jsx(d,{to:`/partner/${a.id}/pages/new`,className:`block px-3 py-2 rounded-md text-sm transition-colors ${s(`/partner/${a.id}/pages/new`)?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:"새 페이지"}),e.jsx("div",{className:"mt-3 text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase",children:r?"모든 페이지":"내 페이지"}),(r?l:i).length===0?e.jsx("div",{className:"px-3 py-2 text-sm text-gray-600 dark:text-gray-400",children:"페이지 없음"}):(r?l:i).map(t=>e.jsx(d,{to:a?`/partner/pages/${a.id}/${t.id}`:`/partner/pages/${t.id}`,className:`block px-3 py-2 rounded-md text-sm transition-colors ${s(a?`/partner/pages/${a.id}/${t.id}`:`/partner/pages/${t.id}`)?"bg-blue-50 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300":"text-gray-700 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-700"}`,children:t.title},t.id))]})]})}),e.jsx("main",{className:"md:col-span-9",children:c})]})})})]})};export{v as P};
